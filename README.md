# EasyPage
### Mybatis自定义分页器插件

#### 请把以下都当成是yy

一般都是用PageHelper，但是随着数据量变大，SQL变复杂效率低了不少，度娘的答案都是从SQL入手想办法提高效率，可是我的问题不是在SQL上，仅仅是PH封装SQL就用了3秒，我的SQL在服务器上跑也就0.003m啊，😅😅😅

然后就去翻PH源码，打断点看啊看，逻辑还是不少的...

#### 第一个想法

然后想自己实现一个，开始是想要原生的分页器就是那种一个实体类，然后执行一条COUNT之类的，又考虑到自己的强迫症（COUNT不能复用啊，有木有😬能复用的）。

以下是废话啧啧，最初的想法，我动态代理Mapper接口，然后哼哼改SQL，提前执行COUNT，若COUNT=0那咱们就不查询了，这样效率还高啧啧，天才！😎（后来发现PH已经有这个功能了，打脸打脸🤬）,但是有个问题就是....就算我能代理Mapper对象，强行拿SQL，强行改，我强行....怎么执行呢，套你猴子的😂，总不能拿JDBC跑一下吧，再仿一个Mybatis日志，精彩！~~~领导以为我用Mybatis执行的🤣（领导：以为我傻？😁）。

#### 下一步

很不想去写一个PH类似的插件，因为...我还要重新复习Mybatis源码有木有，还得学习一下PH的实现逻辑..呕（内心：我要划水！🤗），最终败在自己的强迫症下。





### 配置和使用

因为封装了AutoConfiguration类，所以让他自己装自己就好了😁，我装我自己。

一下配置必须要有的哦，就像PH的方言一样，我是谁我在哪

```yml
easypage: #yml文件
  dialect: mysql  #支持mysql、oracle，其实一切支持limit分页的数据库都可以用mysql
  page-sql-id: .*ListPage.* #这个要单独演示一下
```

PH返回一个Page<T>，但是源码里是拦截了Executor.class，马上吃饭了明天见...不能耽误下班🤣

持续更新...